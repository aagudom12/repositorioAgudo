<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Mi Perfil</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>

<h2>Mi Perfil</h2>

<div th:if="${mensaje}" class="alert alert-success" th:text="${mensaje}"></div>

<form th:action="@{/perfil}" th:object="${usuario}" method="post" enctype="multipart/form-data">
  <label>Nombre:</label>
  <input type="text" th:field="*{nombre}" required /><br/>

  <label>Apellidos:</label>
  <input type="text" th:field="*{apellidos}" /><br/>

  <label>Email:</label>
  <input type="email" th:field="*{email}" required /><br/>

  <label for="fotoPerfil">Foto de perfil:</label>
  <input type="file" name="foto" id="fotoPerfil" accept="image/*" />

  <input type="submit" value="Guardar cambios" class="btn btn-primary"/>
</form>

<div th:if="${usuario.fotoPerfil != null}">
  <img th:src="@{${usuario.fotoPerfil.url}}" alt="Foto de perfil" width="150" />
</div>

<a th:href="@{/}" class="btn btn-secondary">Volver</a>

</body>
</html>
